<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì•ˆë””ì˜¥êµíšŒ 2026 ì²­ì§€ê¸°</title>
    <style>
        :root {
            --primary: #99160c;
            --primary-dark: #6d1008;
            --primary-light: #b82e1f;
            --accent: #d4a574;
            --accent-light: #e8c9a0;
            --bg-warm: #faf6f2;
            --bg-card: #ffffff;
            --text-dark: #2d2926;
            --text-muted: #6b5f58;
            --border: #e8ddd4;
            --shadow: rgba(153, 22, 12, 0.08);
        }
        
        [data-theme="dark"] {
            --bg-warm: #1a1614;
            --bg-card: #252220;
            --text-dark: #f0ebe6;
            --text-muted: #a09890;
            --border: #3d3632;
            --shadow: rgba(0, 0, 0, 0.3);
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', -apple-system, sans-serif;
            background: var(--bg-warm);
            min-height: 100vh;
            padding: 16px;
            color: var(--text-dark);
            transition: background 0.3s, color 0.3s;
        }
        
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
        }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px 0;
            position: relative;
        }
        
        .header h1 {
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }
        
        .header .subtitle {
            color: var(--text-muted);
            font-size: 0.9rem;
        }
        
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 0;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .theme-toggle:hover {
            border-color: var(--primary);
        }
        
        .theme-toggle .label {
            font-size: 0.75rem;
            color: var(--text-muted);
        }
        
        .search-box {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 12px var(--shadow);
            margin-bottom: 16px;
            border: 1px solid var(--border);
            transition: background 0.3s, border-color 0.3s;
        }
        
        .search-input-wrapper {
            display: flex;
            gap: 10px;
            margin-bottom: 16px;
        }
        
        #searchInput {
            flex: 1;
            padding: 14px 18px;
            font-size: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s, background 0.3s;
            -webkit-appearance: none;
            background: var(--bg-warm);
            color: var(--text-dark);
        }
        
        #searchInput:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(153, 22, 12, 0.1);
        }
        
        #searchInput::placeholder {
            color: var(--text-muted);
        }
        
        #searchBtn {
            padding: 14px 24px;
            font-size: 16px;
            font-weight: 600;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }
        
        #searchBtn:hover {
            background: var(--primary-dark);
        }
        
        #searchBtn:active {
            transform: scale(0.98);
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .stats span {
            background: var(--bg-warm);
            color: var(--text-muted);
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            border: 1px solid var(--border);
            transition: background 0.3s, border-color 0.3s;
        }
        
        .stats strong {
            color: var(--primary);
        }
        
        .results {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 2px 12px var(--shadow);
            max-height: 65vh;
            overflow-y: auto;
            border: 1px solid var(--border);
            -webkit-overflow-scrolling: touch;
            transition: background 0.3s, border-color 0.3s;
        }
        
        .result-count {
            text-align: center;
            color: var(--text-muted);
            margin-bottom: 16px;
            font-size: 0.9rem;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--border);
        }
        
        .result-count strong {
            color: var(--primary);
        }
        
        .result-card {
            background: var(--bg-warm);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            border-left: 4px solid var(--primary);
            animation: fadeIn 0.3s ease;
            transition: background 0.3s;
        }
        
        .result-card:last-child {
            margin-bottom: 0;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .member-name {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 6px;
        }
        
        .member-church {
            font-size: 0.85rem;
            color: var(--primary);
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .member-stats {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 12px;
        }
        
        .positions-title {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .positions {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }
        
        .position-tag {
            background: var(--primary);
            color: white;
            padding: 5px 12px;
            border-radius: 16px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .position-tag.jejik {
            background: var(--primary-dark);
        }
        
        .position-tag.praise {
            background: #8b5a2b;
        }
        
        .position-tag.edu {
            background: #2e7d6b;
        }
        
        .position-tag.org {
            background: #4a6fa5;
        }
        
        .position-tag.branch {
            background: #7d5a50;
        }
        
        .search-hint, .no-result {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }
        
        .search-hint .icon, .no-result .icon {
            font-size: 48px;
            margin-bottom: 12px;
        }
        
        .search-hint .hint-text {
            margin-top: 8px;
            font-size: 0.85rem;
            opacity: 0.7;
        }
        
        .highlight {
            color: var(--primary);
            background: rgba(153, 22, 12, 0.1);
            padding: 0 2px;
            border-radius: 3px;
        }
        
        .loading {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }
        
        .loading .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 12px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .error {
            text-align: center;
            padding: 40px 20px;
            color: #c0392b;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 12px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .theme-toggle {
                top: 16px;
                padding: 6px 10px;
            }
            
            .theme-toggle .label {
                display: none;
            }
            
            .search-box {
                padding: 16px;
            }
            
            .stats span {
                padding: 6px 12px;
                font-size: 0.8rem;
            }
            
            .results {
                max-height: 60vh;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 12px 0;
                margin-bottom: 12px;
            }
            
            .header h1 {
                font-size: 1.3rem;
                padding-right: 50px;
            }
            
            .header .subtitle {
                font-size: 0.8rem;
            }
            
            .theme-toggle {
                top: 12px;
                right: 0;
                padding: 6px 10px;
                font-size: 1rem;
            }
            
            .search-box {
                padding: 14px;
                border-radius: 12px;
            }
            
            .search-input-wrapper {
                flex-direction: column;
                gap: 8px;
            }
            
            #searchInput {
                padding: 14px 16px;
                font-size: 16px;
                border-radius: 10px;
            }
            
            #searchBtn {
                padding: 14px;
                border-radius: 10px;
                width: 100%;
            }
            
            .stats {
                gap: 6px;
            }
            
            .stats span {
                padding: 6px 10px;
                font-size: 0.75rem;
            }
            
            .results {
                padding: 12px;
                border-radius: 12px;
                max-height: 55vh;
            }
            
            .result-card {
                padding: 14px;
                border-radius: 10px;
            }
            
            .member-name {
                font-size: 1.1rem;
            }
            
            .position-tag {
                padding: 4px 10px;
                font-size: 0.7rem;
            }
            
            .search-hint .icon, .no-result .icon {
                font-size: 40px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ì•ˆë””ì˜¥êµíšŒ 2026 ì²­ì§€ê¸°</h1>
            <p class="subtitle">ì„±ë„ ì§ë¶„ ê²€ìƒ‰</p>
            <button class="theme-toggle" id="themeToggle" title="í…Œë§ˆ ë³€ê²½">
                <span class="icon">ğŸŒ™</span>
                <span class="label">ë‹¤í¬</span>
            </button>
        </header>
        
        <div class="search-box">
            <div class="search-input-wrapper">
                <input type="text" id="searchInput" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off" enterkeyhint="search" disabled>
                <button id="searchBtn" disabled>ê²€ìƒ‰</button>
            </div>
            <div class="stats">
                <span>ğŸ‘¥ <strong id="totalCount">-</strong>ëª…</span>
                <span>ğŸ“‹ <strong>521</strong>ì§ë¶„</span>
                <span>ğŸ  êµ¬ë¯¸ <strong id="gumiCount">-</strong></span>
                <span>ğŸ¢ ì„œìš¸ <strong id="seoulCount">-</strong></span>
            </div>
        </div>
        
        <div class="results" id="results">
            <div class="loading">
                <div class="spinner"></div>
                <div>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let memberData = null;
        
        // í…Œë§ˆ í† ê¸€
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;
        
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') {
            html.setAttribute('data-theme', 'dark');
            themeToggle.innerHTML = '<span class="icon">â˜€ï¸</span><span class="label">ë¼ì´íŠ¸</span>';
        }
        
        themeToggle.addEventListener('click', () => {
            const isDark = html.getAttribute('data-theme') === 'dark';
            if (isDark) {
                html.removeAttribute('data-theme');
                localStorage.setItem('theme', 'light');
                themeToggle.innerHTML = '<span class="icon">ğŸŒ™</span><span class="label">ë‹¤í¬</span>';
            } else {
                html.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
                themeToggle.innerHTML = '<span class="icon">â˜€ï¸</span><span class="label">ë¼ì´íŠ¸</span>';
            }
        });
        
        // íƒœê·¸ ë¶„ë¥˜
        const jejikList = ['ì¥ë¡œ', 'ì§‘ì‚¬', 'ê¶Œì‚¬', 'ì„œë¦¬ì§‘ì‚¬', 'ê¶Œì°°'];
        const praiseList = ['ì°¬ì–‘ëŒ€', 'ì°¬ì–‘ì„ êµë‹¨', 'ì˜¤ì¼€ìŠ¤íŠ¸ë¼'];
        const eduList = ['êµì‚¬', 'ì œìì›', 'ìƒˆê°€ì¡±ë°˜', 'ì–‘ìœ¡ë°˜', 'ì œìë°˜', 'ë‘ë€ë…¸', 'ë™ì—­ì'];
        const orgList = ['ì„ êµêµ­', 'ìœ„ì›íšŒ', 'ìœ„ì›ë¶€', 'ì˜ˆë°°ë¶€', 'ì‚¬ë¬´êµ­', 'ê²½ì¡°êµ­', 'ì°¨ëŸ‰êµ­', 'ì‹œì„¤', 'ì „ë„íšŒ', 'ì²­ì†Œë‹´ë‹¹'];
        const branchList = ['ì§€êµíšŒ', 'ì „ë¬¸êµíšŒ', 'ìœ„ì„±'];
        
        function getTagClass(pos) {
            if (jejikList.some(j => pos.includes(j))) return 'jejik';
            if (praiseList.some(p => pos.includes(p))) return 'praise';
            if (eduList.some(e => pos.includes(e))) return 'edu';
            if (branchList.some(b => pos.includes(b))) return 'branch';
            if (orgList.some(o => pos.includes(o))) return 'org';
            return '';
        }
        
        // ê²€ìƒ‰ í•¨ìˆ˜
        function search(query) {
            const container = document.getElementById('results');
            
            if (!memberData) {
                container.innerHTML = '<div class="error"><div class="icon">âš ï¸</div><div>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤</div></div>';
                return;
            }
            
            if (!query.trim()) {
                container.innerHTML = '<div class="search-hint"><div class="icon">ğŸ”</div><div>ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”</div></div>';
                return;
            }
            
            const results = Object.entries(memberData).filter(([name]) => name.includes(query));
            
            if (results.length === 0) {
                container.innerHTML = '<div class="no-result"><div class="icon">ğŸ˜¢</div><div>"' + query + '" ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div></div>';
                return;
            }
            
            results.sort((a, b) => b[1].positions.length - a[1].positions.length);
            
            let html = '<div class="result-count">"' + query + '" ê²€ìƒ‰ ê²°ê³¼: <strong>' + results.length + '</strong>ëª…</div>';
            
            results.slice(0, 50).forEach(([name, info]) => {
                const positions = info.positions.map(pos => {
                    const tagClass = getTagClass(pos);
                    return '<span class="position-tag ' + tagClass + '">' + pos + '</span>';
                }).join('');
                
                const highlightedName = name.replace(new RegExp(query, 'g'), '<span class="highlight">' + query + '</span>');
                const churchName = info.church ? info.church + 'ì•ˆë””ì˜¥êµíšŒ' : 'ì•ˆë””ì˜¥êµíšŒ';
                
                html += '<div class="result-card">' +
                    '<div class="member-name">' + highlightedName + '</div>' +
                    '<div class="member-church">ğŸ“ ' + churchName + '</div>' +
                    '<div class="member-stats">ğŸ·ï¸ ' + info.positions.length + 'ê°œ ì§ë¶„</div>' +
                    '<div class="positions-title">ë‹´ë‹¹ ì§ë¶„</div>' +
                    '<div class="positions">' + positions + '</div>' +
                '</div>';
            });
            
            if (results.length > 50) {
                html += '<div style="text-align:center; padding:20px; color:var(--text-muted);">... ì™¸ ' + (results.length - 50) + 'ëª…</div>';
            }
            
            container.innerHTML = html;
        }
        
        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            if (!memberData) return;
            
            const total = Object.keys(memberData).length;
            let gumi = 0, seoul = 0;
            
            Object.values(memberData).forEach(info => {
                if (info.church === 'êµ¬ë¯¸') gumi++;
                else if (info.church === 'ì„œìš¸') seoul++;
            });
            
            document.getElementById('totalCount').textContent = total;
            document.getElementById('gumiCount').textContent = gumi;
            document.getElementById('seoulCount').textContent = seoul;
        }
        
        // ë°ì´í„° ë¡œë“œ
        fetch('data.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                }
                return response.json();
            })
            .then(data => {
                // data.membersì—ì„œ ë©¤ë²„ ë°ì´í„° ì¶”ì¶œ
                memberData = data.members;
                
                // UI í™œì„±í™”
                document.getElementById('searchInput').disabled = false;
                document.getElementById('searchBtn').disabled = false;
                
                // í†µê³„ ì—…ë°ì´íŠ¸
                updateStats();
                
                // ì´ˆê¸° í™”ë©´
                document.getElementById('results').innerHTML = 
                    '<div class="search-hint">' +
                    '<div class="icon">ğŸ”</div>' +
                    '<div>ì´ë¦„ì„ ì…ë ¥í•˜ê³  ê²€ìƒ‰í•˜ì„¸ìš”</div>' +
                    '<div class="hint-text">ë¶€ë¶„ ê²€ìƒ‰ ê°€ëŠ¥ (ì˜ˆ: "ê¹€" â†’ ê¹€ì”¨ ì „ì²´)</div>' +
                    '</div>';
                
                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
                document.getElementById('searchBtn').addEventListener('click', () => {
                    search(document.getElementById('searchInput').value);
                });
                
                document.getElementById('searchInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') search(e.target.value);
                });
                
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    if (e.target.value.length >= 1) search(e.target.value);
                });
            })
            .catch(error => {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
                document.getElementById('results').innerHTML = 
                    '<div class="error">' +
                    '<div class="icon">âš ï¸</div>' +
                    '<div>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤</div>' +
                    '<div style="font-size:0.85rem; margin-top:8px; opacity:0.7;">data.json íŒŒì¼ì´ ê°™ì€ í´ë”ì— ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”</div>' +
                    '</div>';
            });
    </script>
</body>
</html>